FROM node:18-alpine
WORKDIR /app
COPY package.json .
COPY yarn.lock .
RUN yarn install
COPY . .
EXPOSE 3000
ENV APP_PORT=3000
ENV DB_HOST=mongo
ENV DB_PORT=27017
ENV DB_NAME=socialNetwork
ENV PASSWORD_KEY=e225fcade4dea99a90f487eb993efd8f88f4e62b64d6c523317de8fde7f4de36d3e1dd252d10c09dcddd41ca2bf8f155a0ceee5f070b1ce0f1385e2e245ea7f7
ENV ACCESS_TOKEN_SECRET_KEY=b25fe16667ec6ed930ee97eaf3090e81daadc785ac338a9acc64002524c98181a9bff24807f3ffc2e265f17145d63bc0eb1be336f61edaa1e26bf65acc45155d
ENV REFRESH_TOKEN_SECRET_KEY=bde3ccc1741fbbfa0370df995cc7ffe46c18e487c74ead6ae0382af5240da7073bd778bbe176e85471befbf379f19b0ad1eda7d3b7ee39e9143bd75b8b9afdce
CMD ["yarn", "start"]